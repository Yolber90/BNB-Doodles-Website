<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Jquery Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/ab9a9d34df.js" crossorigin="anonymous"></script>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/stylesheets/puppy_details.css">
    <link rel="stylesheet" href="/stylesheets/lightslider.css">
    <link rel="stylesheet" href="/stylesheets/footer.css">
    <!-- Javascript -->
    <script src="/javascript/lightslider.js" defer></script>
    <script src="/javascript/javascript.js" defer></script>

    <title></title>
</head>


<body>
    <header>
        <div id="header-box">

            <div id="header-logo">
                <a href="/home.html">
                    <img src="/media/Broke Not Broken-03 (2).jpg" alt="BNB Logo">
                </a>
            </div>
            <div id="header-name">
                <h1 style="margin: auto;">BNB DOOLES</h1>
            </div>
            <button id="hmbrgr-menu-btn" class="material-symbols-outlined">MENU</button>
            
        </div>

        <div id="header-menu">
            

            <ul id="nav-menu">
                <li>
                    <a href="/home.html">
                        <button id="nav-btn">HOME</button>
                    </a>

                </li>
                <li>
                    <a href="/puppies.html">
                        <button id="nav-btn">PUPPIES</button>
                    </a>
                </li>
                <li>
                    <a href="/contact_us.html">
                        <button id="nav-btn">CONTACT US</button>
                    </a>
                </li>
            </ul>

        </div>
    </header>
    <!--! --------------------------------------------- -->

    <div id="container">
        <div class="new-mobile-menu">
            <a href="/home.html">Home</a>
            <hr>
            <a href="/puppies.html">Puppies</a>
            <hr>
            <a href="/contact_us.html">Contact Us</a>
            <hr>
        </div>

        <h1 id="name"></h1>
        <div id="details">
            <div class="demo">
                <ul id="lightSlider">
                    <li data-thumb="media\kai\IMG_2034.jpg">
                        <img src="media\kai\IMG_2034.jpg" />
                    </li>
                    <li data-thumb="media\kai\IMG_3534.jpg">
                        <img src="media\kai\IMG_3534.jpg" />
                    </li>
                    <li data-thumb="media\kai\kai.jpg">
                        <img src="media\kai\kai.jpg" />
                    </li>
                    <li data-thumb="media\kai\kai2.jpg">
                        <img src="media\kai\kai2.jpg" />
                    </li>
                </ul>
            </div>

            <div id="information">

                <table>
                    <th>Gender</th>
                    <td id="sex"></td>
                </table>
                <table>
                    <th>Color</th>
                    <td id="coat"></td>
                </table>
                <table>
                    <th id="th">Born On</th>
                    <td id="bornOn"></td>
                </table>
                <table>
                    <th id="th">Age</th>
                    <td id="time"></td>
                </table>
                <table>
                    <th>Status</th>
                    <td id="status"></td>
                </table>
                <table>
                    <th>Price</th>
                    <td id="price"></td>
                </table>

                <div id="payment-div">
                    <h4>Reserve this Puppy</h4>
                    <div id="notice">
                        <p id="about"></p>
                        <a href="/contact_us.html">
                            <button id="contact-us"></button>
                        </a>
                    </div>
                </div>
            </div>

        </div>
        

    </div>
    

    <div id="footer">
        <div id="reach-us">
            <img id="footer-img" src="/media/Broke Not Broken-03 (2).jpg" alt="" srcset="">
            <br>
            <hr>
            <a href="tel:123-456-7890"><i class="fa-solid fa-phone">&nbsp;&nbsp;&nbsp;&nbsp;(123) 456-7890</i></a>
            <br>
            <i class="fa-solid fa-clock">&nbsp;&nbsp;&nbsp;&nbsp;Mon-Fri (8Am - 6PM)</i>
            <br>
            <a target="_blank" href="https://www.instagram.com/brokenotbroken2022/?igshid=Zjc2ZTc4Nzk%3D"><i class="fa-brands fa-square-instagram">&nbsp;&nbsp;&nbsp;&nbsp;Follow Us</i></a>
            <br>
            <i class="fa-solid fa-location-dot">&nbsp;&nbsp;&nbsp;&nbsp;Longwood, FL</i>
        </div>

        <div id="co-info">
            <p>BROKE NOT BROKEN LLC</p>
        </div>

    </div>






    <script type="text/javascript" defer>
        $(document).ready(function () {
            $('#lightSlider').lightSlider({
                gallery: true,
                item: 1,
                loop: true,
                slideMargin: 0,
                thumbItem: 9,
                slideMove: 2,

                

            });

            //API Json call file to get specific puppy details
            $.get("/json/database", function (data) {


                //Get and Format json file from a string to an object
                const objData = JSON.parse(data); //convert data into an obj
                const pups = objData.puppies //short cont for for data.puppies
                const dataLen = Object.keys(pups).length // get the obj length


                //Save data from the json file into variables for future consumption.
                const thisPup = pups.kai; // pups.(pup object key)
                const name = thisPup.name;
                const coat = thisPup.coat;
                const sex = thisPup.sex.toUpperCase();
                const DOB = thisPup.DOB;
                const price = thisPup.price;
                const status = thisPup.available;


                //Time Calculations
                //Get CPU Date and calculate against puppy DOB
                const today = new Date();// establish CPU Date
                const born = new Date(DOB)// Pickup litter date from JSON
                const daySince = today.getTime() - born.getTime()// Find difference between CPU Date and inception date
                const diff = daySince / (1000 * 3600 * 24);// Convert into Days.
                const finalDiff = Math.round(diff);// Round the diff


                //Convert Days into days weeks, months, or years
                function howOld(days) {
                    if (days >= 365) {
                        return Math.round(days / 365) + " Year Old"
                    } else if (days >= 60) {
                        return Math.round(days / 30) + " Months Old"
                    } else if (days >= 14) {
                        return Math.round(days / 7) + " Weeks Old"
                    }
                    else {
                        return days + " Days Old"
                    };
                };



                //Dinamic HTML Load, will load into the table elements
                $("title").append("BNB Doodles | " + name);
                $("#name").html(name);
                $("#sex").html(sex);
                $("#coat").html(coat);
                $("#bornOn").html(DOB);
                $("#time").html(howOld((finalDiff)));
                $("#price").html("$" + price).css("color", "green").css("font-weight", 900);

                //Convert status to Avail. or On Hold depending on Boolean value
                //Also change css color depending on status
                if (status == true) {
                    $("#status").html("Available");
                    $("#status").css("color", "green");
                } else {
                    $("#status").html("On Hold");
                    $("#status").css("color", "red");
                }
                // Notice 
                $("#about").html(
                    "<p> Contact us to inquire about " + name + ".</p>" +
                    "<p>A minimum down payment of $200 will be required to hold this puppy for you.</p>"
                )
                $("#contact-us").html("Reserve " + name);



            })



        })
    </script>

</body>

</html>